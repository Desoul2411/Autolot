$(document).ready((function(){let t,e=document.querySelector("#main-menu-open-button"),o=document.querySelector("#main-menu-close-button"),n=(document.querySelector(".main-menu_header"),document.querySelector(".main-menu__list"));o.addEventListener("click",()=>{n.style.visibility="hidden",n.style.right="-100%",document.body.style.overflow="auto"}),e.addEventListener("click",()=>{n.style.visibility="visible",n.style.right="0"}),$(document).ready((function(){$("input[type=file]").fileinput("<button>Выбрать файл</button>")})),document.querySelectorAll(".car-photo-inputs-block__photo-field_field").forEach(t=>{t.addEventListener("change",t=>{if(t.target.value){t.target.parentElement.parentElement.lastElementChild.innerHTML=t.target.files[0].name}})}),document.querySelectorAll(".car-photo-inputs-block__photo-field_field").forEach(e=>{e.addEventListener("change",()=>{let o,n=e.parentElement.nextElementSibling;if(t=n.innerText,!(t.length>21))return!1;o=t.substr(0,10)+"..."+t.substr(-10),n.innerText=o})}),$(".put-auto-link").click((function(t){t.preventDefault(),r("#top"),$(".overlay").css("height","100%"),$(".popup").removeClass("authorization-popup"),$(".popup").removeClass("registration-popup"),$(".popup").addClass("put-car-popup"),$(".modal-content-authorization").css("display","none"),$(".modal-content-registration").css("display","none"),$(".modal-content-successful-registration").css("display","none"),$(".modal-content-put-car").css("display","block"),$(".car-photo-inputs-block__file-upload-status").html("Файл не выбран"),$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled"),(()=>{let t=(new Date).getFullYear(),e=document.getElementById("put-car_car-year-select"),o=1960;for(;o<=t;)e.insertAdjacentHTML("beforeend",`<option value='${o}'>${o}</option>`),o++})()})),$(".js-button-campaign").click((function(){$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled")})),$(".js-close-campaign").click((function(){$("form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1230px")})),$(document).mouseup((function(t){var e=$(".js-popup-campaign");t.target!=e[0]&&0===e.has(t.target).length&&($(".authorization-form").trigger("reset"),$(".registration-form").trigger("reset"),$(".put-car-form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1230px"))})),$(".modal-content-successful-registration__button__button").click((function(){$("form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto")})),$(".put-car-form").submit((function(t){t.preventDefault(),$.ajax({type:"POST",url:"mail.php",data:$(this).serialize(),success:function(){r("#top");let t=$(document.body),e=t.innerWidth();t.css("overflow","hidden"),t.width(e),$(".popup").removeClass("put-car-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration__text").text("Ваше авто выставлено на аукцион!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(this).find("select").val(""),$(".put-car-form").trigger("reset")},error:function(){r("#top");let t=$(document.body),e=t.innerWidth();t.css("overflow","hidden"),t.width(e),$(".popup").removeClass("put-car-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration__text").text("При отправке данных произошла ошибка!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(this).find("select").val(""),$(".put-car-form").trigger("reset")}})}));let a,i,s=document.querySelector(".up-button");function r(t){return $("html,body").animate({scrollTop:$(t).offset().top-20},500),!1}s.addEventListener("click",()=>{r("#top")}),$(window).width()>1490&&(a=$(".container").offset(),i=a.left,s.style.right=i+2+"px",window.addEventListener("resize",(function(t){a=$(".container").offset(),i=a.left,s.style.right=i+2+"px"})))}));