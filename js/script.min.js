$(document).ready((function(){let e=document.querySelector("#main-menu-open-button"),t=document.querySelector("#main-menu-close-button"),o=(document.querySelector(".main-menu_header"),document.querySelector(".main-menu__list"));if(t.addEventListener("click",()=>{o.style.visibility="hidden",o.style.right="-100%",document.body.style.overflow="auto"}),e.addEventListener("click",()=>{o.style.visibility="visible",o.style.right="0"}),$(window).width()>992){document.querySelector(".partners-block");let e=document.querySelector(".partners-block-container"),t=document.querySelector(".tab-content");e.style.width=t.clientWidth+"px",window.addEventListener("resize",(function(o){e.style.width=t.clientWidth+"px"}))}$((function(){$(".fotorama").fotorama().data("fotorama");$(".fotorama").on("fotorama:fullscreenenter",(function(e,t){t.setOptions({fit:"contain"})})),$(".fotorama").on("fotorama:fullscreenexit",(function(e,t){t.setOptions({fit:"cover"})}))}));const n=()=>{let e,t,o=document.querySelectorAll(".car-gallery-block__slider-big");$(window).width()<=1250&&o.forEach(o=>{e=o.clientWidth,t=e/3,o.setAttribute("data-thumbwidth",""+t)}),document.querySelectorAll(".description-top-block-favourites__add-to-favourites_link").forEach(e=>{e.addEventListener("click",(function(e){event.preventDefault(),this.querySelector(".fill-color").classList.toggle("active")}))})};($(".current-lots-tab-content").children(".car-card").length>0||$(".finished-lots-tab-content").children(".car-card").length>0)&&n();let s=document.querySelector(".cars-section-tabs__curent-lots-button"),i=document.querySelector(".cars-section-tabs__finished-lots-button"),a=document.querySelector(".current-lots-tab-content"),r=document.querySelector(".finished-lots-tab-content"),l=document.querySelector(".current-tab-text"),c=document.querySelector(".finished-tab-text");s.classList.add("active"),r.style.display="none";const d=()=>{r.style.display="none",i.classList.remove("active"),c.style.color="#FFFFFF",s.classList.add("active"),l.style.color="#2A2A2A",a.style.display="block",$(".fotorama").resize()},u=()=>{a.style.display="none",s.classList.remove("active"),l.style.color="#FFFFFF",i.classList.add("active"),r.style.display="block",c.style.color="#2A2A2A",$(".fotorama").resize()};s.addEventListener("click",d),i.addEventListener("click",u),"#finished-lots"==window.location.hash&&u(),"#current-lots"==window.location.hash&&d(),$(window).width()<=475&&$(".find-parts-panel-title").click((function(){$(this).next(".find-parts-form").slideToggle()}));(()=>{let e=document.getElementById("from-year-select-desktop"),t=document.getElementById("up-to-year-select-desktop"),o=(new Date).getFullYear();e.insertAdjacentHTML("beforeend",'<option selected disabled value=""></option>');let n=1960;for(;n<=o;)e.insertAdjacentHTML("beforeend",`<option value='${n}'>${n}</option>`),n++;t.insertAdjacentHTML("beforeend",'<option selected disabled value=""></option>');let s=1960;for(;s<=o;)t.insertAdjacentHTML("beforeend",`<option value='${s}'>${s}</option>`),s++})();let p=document.querySelector("#registration_country"),m=document.querySelector("#registration_region_select"),f=document.querySelector("#registration_region_input");p.addEventListener("change",e=>{"Беларусь"===e.target.value?(m.style.display="block",f.style.display="none",f.removeAttribute("required"),m.setAttribute("required","")):(m.style.display="none",f.style.display="block",m.removeAttribute("required"),f.setAttribute("required",""))});(()=>{let e=document.getElementById("day"),t=1;for(;t<=31;)t<=9?e.insertAdjacentHTML("beforeend",`<option value='0 + ${t}'>0${t}</option>`):e.insertAdjacentHTML("beforeend",`<option value='${t}'>${t}</option>`),t++;e.insertAdjacentHTML("beforeend","</select>")})();(()=>{let e=(new Date).getFullYear(),t=document.getElementById("year"),o=1960;for(;o<=e;)t.insertAdjacentHTML("beforeend",`<option value='${o}'>${o}</option>`),o++})();let h,y=document.querySelector(".registration-benefits__benefit_checkbox"),g=document.querySelector(".benefit-icon-fill"),v=document.querySelectorAll(".auction-participate"),b=document.querySelectorAll(".auction-participate-label");function _(e){e.preventDefault(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1700px"),q("#top",300),$(".overlay").css("height","100%"),$(".popup").removeClass("put-car-popup"),$(".popup").removeClass("authorization-popup"),$(".popup").addClass("registration-popup"),$(".modal-content-remind-password").css("display","none"),$(".modal-content-successful-registration").css("display","none"),$(".modal-content-authorization").css("display","none"),$(".modal-content-put-car").css("display","none"),$(".modal-content-registration").css("display","block"),$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled"),y.setAttribute("checked","checked"),g.style.fill="#FFC800",v.forEach(e=>e.removeAttribute("disabled","disabled")),b.forEach(e=>{e.classList.add("required")})}y.addEventListener("change",()=>{y.checked?(g.style.fill="#FFC800",v.forEach(e=>e.removeAttribute("disabled","disabled")),b.forEach(e=>{e.classList.add("required")})):(g.style.fill="#999999",v.forEach(e=>e.setAttribute("disabled","disabled")),b.forEach(e=>{e.classList.remove("required")}))}),$(document).ready((function(){$("input[type=file]").fileinput("<button>Выбрать файл</button>")})),document.querySelectorAll(".car-photo-inputs-block__photo-field_field").forEach(e=>{e.addEventListener("change",e=>{if(e.target.value){e.target.parentElement.parentElement.lastElementChild.innerHTML=e.target.files[0].name}})}),document.querySelectorAll(".car-photo-inputs-block__photo-field_field").forEach(e=>{e.addEventListener("change",()=>{let t,o=e.parentElement.nextElementSibling;if(h=o.innerText,!(h.length>21))return!1;t=h.substr(0,10)+"..."+h.substr(-10),o.innerText=t})}),$(".authorization-forgot-password-button").click((function(){event.preventDefault(),$(".modal-content-authorization").css("display","none"),$(".modal-content-remind-password").fadeIn()})),$(".user-menu__cabinet-link").click((function(e){e.preventDefault();let t=$(document.body),o=t.innerWidth();t.css("overflow","hidden"),t.width(o);let n=pageYOffset+document.documentElement.clientHeight/2+"px";$(".popup").css("top",n),$(".overlay").css("height","100%"),$(".popup").removeClass("put-car-popup"),$(".popup").removeClass("registration-popup"),$(".popup").addClass("authorization-popup"),$(".modal-content-remind-password").css("display","none"),$(".modal-content-registration").css("display","none"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration").css("display","none"),$(".modal-content-authorization").css("display","block"),$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled")})),$(".user-menu__registration-link").click(_),$(".authorization-to-register-button").click(_),$(".put-auto-link").click((function(e){e.preventDefault(),q("#top",300),$(".overlay").css("height","100%"),$(".popup").removeClass("authorization-popup"),$(".popup").removeClass("registration-popup"),$(".popup").addClass("put-car-popup"),$(".modal-content-authorization").css("display","none"),$(".modal-content-registration").css("display","none"),$(".modal-content-successful-registration").css("display","none"),$(".modal-content-remind-password").css("display","none"),$(".modal-content-put-car").css("display","block"),$(".car-photo-inputs-block__file-upload-status").html("Файл не выбран"),$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled"),(()=>{let e=(new Date).getFullYear(),t=document.getElementById("put-car_car-year-select"),o=1960;for(;o<=e;)t.insertAdjacentHTML("beforeend",`<option value='${o}'>${o}</option>`),o++})()})),$(".js-button-campaign").click((function(){$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled")})),$(".js-close-campaign").click((function(){$("form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1230px")})),$(document).mouseup((function(e){var t=$(".js-popup-campaign");e.target!=t[0]&&0===t.has(e.target).length&&($(".authorization-form").trigger("reset"),$(".registration-form").trigger("reset"),$(".put-car-form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1230px"))})),$(".modal-content-successful-registration__button__button").click((function(){$("form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto")})),$(".registration-form").submit((function(e){e.preventDefault(),$.ajax({type:"POST",url:"../mail.php",data:$(this).serialize(),success:function(){q("#top",300);let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t),$(".popup").removeClass("registration-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-registration").css("display","none"),$(".modal-content-successful-registration__text").text("Вы успешно зарегистрированы!"),$(".modal-content-successful-registration").css("display","block"),$(this).find("input").val(""),$(this).find("select").val(""),$("#form").trigger("reset")},error:function(e){q("#top",300);let t=$(document.body),o=t.innerWidth();t.css("overflow","hidden"),t.width(o),$(".popup").removeClass("registration-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-registration").css("display","none"),$(".modal-content-successful-registration__text").text("При отправке данных произошла ошибка!"),$(".modal-content-successful-registration").css("display","block"),$(this).find("input").val(""),$(this).find("select").val(""),$("#form").trigger("reset")}})})),$(".modal-content-remind-password__email-form").submit((function(e){e.preventDefault(),$.ajax({type:"POST",url:"mail.php",data:$(this).serialize(),success:function(){let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t);let o=pageYOffset+document.documentElement.clientHeight/2+"px";$(".popup").css("top",o),$(".overlay").css("height","100%"),$(".modal-content-remind-password").css("display","none"),$(".modal-content-successful-registration__text").text("Письмо c новым паролем отправлено!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(".modal-content-remind-password__email-form").trigger("reset")},error:function(){let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t);let o=pageYOffset+document.documentElement.clientHeight/2+"px";$(".popup").css("top",o),$(".overlay").css("height","100%"),$(".modal-content-remind-password").css("display","none"),$(".modal-content-successful-registration__text").text("При отправке данных произошла ошибка!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(".modal-content-remind-password__email-form").trigger("reset")}})})),$(".put-car-form").submit((function(e){e.preventDefault(),$.ajax({type:"POST",url:"mail.php",data:$(this).serialize(),success:function(){q("#top",300);let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t),$(".popup").removeClass("put-car-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration__text").text("Ваше авто выставлено на аукцион!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(this).find("select").val(""),$(".put-car-form").trigger("reset")},error:function(){q("#top",300);let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t),$(".popup").removeClass("put-car-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration__text").text("При отправке данных произошла ошибка!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(this).find("select").val(""),$(".put-car-form").trigger("reset")}})}));let w,k,E=document.querySelector(".up-button");function q(e,t){return $("html,body").animate({scrollTop:$(e).offset().top-20},t),!1}E.addEventListener("click",()=>{q("#top",500)}),w=$(".container").offset(),k=w.left,E.style.right=k+"px",window.addEventListener("resize",(function(e){w=$(".container").offset(),k=w.left,E.style.right=k+"px"}))}));