$(document).ready((function(){let e=document.querySelector("#main-menu-open-button"),t=document.querySelector("#main-menu-close-button"),o=(document.querySelector(".main-menu_header"),document.querySelector(".main-menu__list"));t.addEventListener("click",()=>{o.style.visibility="hidden",o.style.right="-100%",document.body.style.overflow="auto"}),e.addEventListener("click",()=>{o.style.visibility="visible",o.style.right="0"});let n=document.querySelector(".user-panel-info__deposit_sum_desktop"),s=document.querySelector(".user-panel-info__no-deposit-warning");if("0"==n.innerText?(n.classList.add("warning"),s.style.display="flex"):(n.classList.remove("warning"),s.style.display="none"),$(window).width()>992){let e=document.querySelector(".partners-block-container"),t=document.querySelector(".tab-content");e.style.width=t.clientWidth+"px",window.addEventListener("resize",(function(o){e.style.width=t.clientWidth+"px"}))}$((function(){$(".fotorama").fotorama().data("fotorama");$(".fotorama").on("fotorama:fullscreenenter",(function(e,t){t.setOptions({fit:"contain"})})),$(".fotorama").on("fotorama:fullscreenexit",(function(e,t){t.setOptions({fit:"cover"})}))}));const i=()=>{document.querySelectorAll(".description-top-block-favourites__add-to-favourites_link").forEach(e=>{e.addEventListener("click",(function(e){event.preventDefault(),this.querySelector(".fill-color").classList.toggle("active")}))})};($(".current-lots-tab-content").children(".car-card").length>0||$(".finished-lots-tab-content").children(".car-card").length>0||$(".favourites-lots-tab-content").children(".car-card").length>0)&&i();let a=document.querySelector(".cars-section-tabs__curent-lots-button"),r=document.querySelector(".cars-section-tabs__finished-lots-button"),l=document.querySelector(".cars-section-tabs__favourites-lots-button"),c=document.querySelector(".current-lots-tab-content"),d=document.querySelector(".finished-lots-tab-content"),u=document.querySelector(".favourites-lots-tab-content"),p=document.querySelector(".current-tab-text"),f=document.querySelector(".finished-tab-text"),m=document.querySelector(".favourites-tab-text");a.classList.add("active"),d.style.display="none",u.style.display="none";a.addEventListener("click",()=>{d.style.display="none",u.style.display="none",r.classList.remove("active"),f.style.color="#FFFFFF",l.classList.remove("active"),m.style.color="#FFFFFF",a.classList.add("active"),p.style.color="#2A2A2A",c.style.display="block",$(".fotorama").resize()}),r.addEventListener("click",()=>{c.style.display="none",u.style.display="none",a.classList.remove("active"),p.style.color="#FFFFFF",l.classList.remove("active"),m.style.color="#FFFFFF",r.classList.add("active"),d.style.display="block",f.style.color="#2A2A2A",$(".fotorama").resize()}),l.addEventListener("click",()=>{c.style.display="none",d.style.display="none",a.classList.remove("active"),p.style.color="#FFFFFF",r.classList.remove("active"),f.style.color="#FFFFFF",l.classList.add("active"),u.style.display="block",m.style.color="#2A2A2A",$(".fotorama").resize()});let y=document.querySelector(".description-bid-indicator");y.classList.contains("lider")?y.innerHTML="ВЫ ЛИДЕР!":y.classList.contains("failed")&&(y.innerHTML="СТАВКА ПЕРЕБИТА"),$(".find-parts-link").click((function(e){$(this).next(".find-parts-form").slideToggle(),$(".find-parts-form").css("display","flex"),$(".find-parts-form").css("flex-direction","column")}));let v;(()=>{let e=document.getElementById("from-year-select-desktop"),t=document.getElementById("up-to-year-select-desktop"),o=(new Date).getFullYear();e.insertAdjacentHTML("beforeend",'<option selected disabled value=""></option>');let n=1960;for(;n<=o;)e.insertAdjacentHTML("beforeend",`<option value='${n}'>${n}</option>`),n++;t.insertAdjacentHTML("beforeend",'<option selected disabled value=""></option>');let s=1960;for(;s<=o;)t.insertAdjacentHTML("beforeend",`<option value='${s}'>${s}</option>`),s++})(),$(document).ready((function(){$("input[type=file]").fileinput("<button>Выбрать файл</button>")})),document.querySelectorAll(".car-photo-inputs-block__photo-field_field").forEach(e=>{e.addEventListener("change",e=>{if(e.target.value){e.target.parentElement.parentElement.lastElementChild.innerHTML=e.target.files[0].name}})}),document.querySelectorAll(".car-photo-inputs-block__photo-field_field").forEach(e=>{e.addEventListener("change",()=>{let t,o=e.parentElement.nextElementSibling;if(v=o.innerText,!(v.length>21))return!1;t=v.substr(0,10)+"..."+v.substr(-10),o.innerText=t})}),$(".put-auto-link").click((function(e){e.preventDefault(),F("#top"),$(".overlay").css("height","100%"),$(".popup").removeClass("authorization-popup"),$(".popup").removeClass("registration-popup"),$(".popup").addClass("put-car-popup"),$(".modal-content-authorization").css("display","none"),$(".modal-content-registration").css("display","none"),$(".modal-content-successful-registration").css("display","none"),$(".modal-content-put-car").css("display","block"),$(".car-photo-inputs-block__file-upload-status").html("Файл не выбран"),$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled"),(()=>{let e=(new Date).getFullYear(),t=document.getElementById("put-car_car-year-select"),o=1960;for(;o<=e;)t.insertAdjacentHTML("beforeend",`<option value='${o}'>${o}</option>`),o++})()})),$(".js-button-campaign").click((function(){$(".js-overlay-campaign").fadeIn(),$(".js-overlay-campaign").addClass("disabled")})),$(".js-close-campaign").click((function(){$("form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1230px")})),$(document).mouseup((function(e){var t=$(".js-popup-campaign");e.target!=t[0]&&0===t.has(e.target).length&&($(".authorization-form").trigger("reset"),$(".registration-form").trigger("reset"),$(".put-car-form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto"),$(".cars-section-container").css("min-height","1230px"))})),$(".modal-content-successful-registration__button__button").click((function(){$("form").trigger("reset"),$(".js-overlay-campaign").fadeOut(),$("body").css("overflow","auto")})),$(".put-car-form").submit((function(e){e.preventDefault(),$.ajax({type:"POST",url:"mail.php",data:$(this).serialize(),success:function(){F("#top");let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t),$(".popup").removeClass("put-car-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration__text").text("Ваше авто выставлено на аукцион!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(this).find("select").val(""),$(".put-car-form").trigger("reset")},error:function(){F("#top");let e=$(document.body),t=e.innerWidth();e.css("overflow","hidden"),e.width(t),$(".popup").removeClass("put-car-popup"),$(".popup").addClass("authorization-popup"),$(".overlay").css("height","100%"),$(".modal-content-put-car").css("display","none"),$(".modal-content-successful-registration__text").text("При отправке данных произошла ошибка!"),$(".modal-content-successful-registration").fadeIn(),$(this).find("input").val(""),$(this).find("select").val(""),$(".put-car-form").trigger("reset")}})}));let g,h,b=document.querySelector(".up-button");function F(e){return $("html,body").animate({scrollTop:$(e).offset().top-20},500),!1}b.addEventListener("click",()=>{F("#top")}),g=$(".container").offset(),h=g.left,b.style.right=h+"px",window.addEventListener("resize",(function(e){g=$(".container").offset(),h=g.left,b.style.right=h+"px"})),$(window).width()>1490&&(b.style.right=h+3+"px",window.addEventListener("resize",(function(e){b.style.right=h+3+"px"})))}));